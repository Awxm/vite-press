# TCP

TCP (Transmission Control Protocol) 是一种面向连接的、可靠的、基于字节流的传输层协议。通过三次握手建立连接保证三次数据的可靠性和顺序性.以及四次挥手断开连接保证数据完整性。

第一次握手：客户端发送 SYN 包到服务器(表示我想和你建立一个连接，并且指定一个用于数据传输的起始序列号)，并进入 SYN_SEND 状态。

服务端返回一个带有 SYN/ACK 标志位的 ACK 包，表示我知道你想和我连接了，同时接收到了客户端的 SYN 包，并准备好接受数据。表示双方用于传输数据的已经被初始化。

第三次握手:客户端发送一个ack包表示我知道你知道我想和你连接了,并进入 ESTABLISHED 状态。表示连接建立成功。双发开始建立完成。

两次握手会导致什么问题？

1. 服务器端无法确认客户端他能否收到返回过去的ack的，客户端发送SYN请求之后或许是关闭了链接，这样可能会导致丢包
2. 客户端无法得知服务端的起始序列号，这样会导致数据包乱序。

TCP/IP协议族中，有应用层、传输层、网络层、数据层链路层四层协议。

应用程是http、FTP

传输层的协议有TCP、UDP。

![alt text](./img/tcp.png)
